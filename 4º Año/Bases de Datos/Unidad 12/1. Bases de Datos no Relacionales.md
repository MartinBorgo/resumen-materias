Las bases de datos relacionales satisfacen las necesidades comerciales actuales. Sin embargo, hay motivos para buscar alternativas:

- Necesidad de manejar nuevos tipos multiestructurados (datos no tabulares).
- Datos que escalan más allá de las limitaciones de capacidad de los sistemas existentes.
- Alternativas viables al costoso software y hardware de bases de datos propietarias.
- Agilidad o velocidad de desarrollo.
- Flexibilidad ante cambios.

Consideraciones sobre la necesidad de datos no tabulares:

Las aplicaciones que crean nuevos tipos de datos que cambian rápidamente (datos estructurados, semiestructurados, no estructurados y polimórficos) y volúmenes masivos de estos.
Los equipos de desarrollo pequeños trabajan en sprints ágiles, iterando rápidamente y enviando código cada semana o dos, algunos incluso varias veces al día.
Las aplicaciones se entregan como servicios que deben estar siempre activos, accesibles desde muchos dispositivos diferentes y escalados globalmente con datos distribuidos cerca de sus usuarios para experiencias de baja latencia y cumplimiento con la regulación de soberanía de datos.
Las organizaciones están recurriendo a arquitecturas de escalabilidad horizontal que utilizan software abierto, que se ejecutan en servidores básicos y plataformas de computación en la nube, en lugar de una gran infraestructura monolítica de servidor y almacenamiento.

Los sistemas "NoSQL" no tabulares ofrecen modelo de datos más flexible, una mayor escalabilidad y rendimiento. Además, mantienen algunas características claves de las bases de datos relacionales, como lo puede ser el contar con un Lenguaje de consulta expresivo, Índices secundarios, y propiedades ACID, aunque esto última característica solo es respetada por algunas de estas bases de datos.
Existen docenas de bases de datos no tabulares, pero se clasifican principalmente en una de las siguientes cuatro categorías:

- **Modelo de documentos**: Este tipo de bases de datos, almacena todos los datos en documentos. Cada uno de estos documentos es en efecto un objeto el cual contiene uno o más campos, cada campo contiene un valor escrito, como una cadena de caracteres, fechas, enteros e incluso matrices. Los datos en estos documentos suelen ser guardados en una estructura muy similar a un `JSON`. Estas características simplifican el acceso a los datos y, en muchos casos, elimina la necesidad de operaciones JOIN y transacciones complejas de múltiples registros.

>[!tldr] Características del Modelo Basado en Documentos
>- Las notaciones de los esquemas es dinámico, es decir, cada documento puede contener diferentes campos. Esta flexibilidad es muy útil a la hora de modelar datos no estructurados y polimórficos.
>- Ciertas bases de datos basadas en documentos proporcionan la expresividad para realizar consultas de forma similar a las de las bases de datos relacionales, contando con índices secundarios que brindan acceso eficiente para casi cualquier patrón de consulta.
>- Este tipo de bases de datos fueron pensadas para aplicaciones de propósito general, resultando útiles para un amplio rango de aplicaciones debido en parte a la flexibilidad en los modelos, la capacidad de consulta y el mapeo natural de documentos a objetos.

- **Modelo orientado a grafos**: Utilizan estructuras de grafos con nodos, enlaces y propiedades para representar datos, modelándolos como una red de relaciones entre elementos específicos. Esta estructura facilita el modelado y la navegación por las relaciones entre entidades en una aplicación.

>[!info] Utilización de las Bases de Datos Orientadas a Grafos
>Aunque no es muy intuitivo y puede requerir tiempo para comprenderlo, resulta útil para ciertos tipos de consultas. Es especialmente adecuada para aplicaciones donde las relaciones transversales son fundamentales, como la navegación por conexiones de redes sociales, topologías de redes o cadenas de suministro.

- **Modelos de clave-valor**: Cada elemento se almacena como un par compuesto por un nombre de atributo o clave y su valor asociado. El valor es opaco para el sistema, lo que significa que los datos solo pueden ser consultados a través de la clave. Este enfoque es especialmente útil para representar datos polimórficos y no estructurados, ya que no impone un esquema fijo en los pares clave-valor. Estas bases de datos son ideales para aplicaciones que solo requieren consultar datos mediante un único valor clave. Sus principales ventajas son el rendimiento y la escalabilidad, que pueden optimizarse significativamente debido a la simplicidad de los patrones de acceso a los datos y la opacidad del valor.
- **Modelos de almacenes orientados a columna**: También conocidas como "*almacenes de familias de columnas*", utilizan un mapa ordenado multidimensional distribuido y disperso para almacenar datos. Cada registro puede tener un número variable de columnas, donde duchas columnas se pueden agrupar en familias para facilitar el acceso o distribuirse en varias familias de columnas. Los datos se recuperan utilizando una clave principal por cada familia de columnas. Estas bases de datos son particularmente útiles para aplicaciones que requieren consultas basadas en un único valor clave.

El modelo de datos de valor clave y de columna amplia es opaca en el sistema, eso quiere decir que solo se puede consultar la clave principal, más no los datos particulares del esquema, con la diferencia que el modelo de orientado a columna proporciona acceso mucho más granular a datos que el modelo de clave valor, pero menos flexibilidad que el modelo de datos del documento.
El modelo de datos del documento tiene la aplicabilidad más amplia de todos los modelos antes mostrados, ya que es el más natural y productivo en parte porque los objetos se mapean en forma directa en la base de datos.

## Modelo de Consulta de Datos

El modelo de consultas en bases de datos no relacionales varía según las necesidades de cada aplicación. Algunas aplicaciones solo requieren acceder a registros basados en una clave primaria, mientras que otras necesitan la capacidad de consultar múltiples valores dentro de un registro. También es común que se actualicen registros, incluyendo campos individuales. Para cumplir con estos requisitos, es esencial que la base de datos pueda realizar consultas basadas en índices secundarios. En estos casos, una base de datos de documentos suele ser la solución más adecuada, ya que permite consultar y actualizar cualquier campo dentro de un documento y ofrece opciones de indexación para optimizar diversas consultas, incluyendo texto, geoespacial, compuesto, disperso, tiempo de vida (TTL), e índices únicos. Además, proporcionan la capacidad de analizar datos en el lugar sin replicarlos en motores de búsqueda o análisis dedicados y permiten manipulaciones complejas de los elementos dentro de un documento.
Las bases de datos orientadas a grafos ofrecen modelos de consulta enriquecidos para interrogar relaciones simples y complejas, lo que permite hacer inferencias tanto directas como indirectas sobre los datos. Estos sistemas son altamente eficientes para el análisis de relaciones, aunque otros tipos de análisis pueden ser menos óptimos. Generalmente, no se utilizan para aplicaciones operativas de propósito general, sino en combinación con bases de datos documentales o relacionales para consultas específicas de grafos. El concepto de bases de datos "multimodelo" está en desarrollo, con diseños que presentan múltiples modelos de datos y tipos de consultas en una sola plataforma, como MongoDB que permite la agregación recursiva con $graphLookup para el procesamiento de grafos nativamente.
Por otro lado, las bases de datos de clave-valor y basadas en columnas se centran en la capacidad de recuperar y actualizar datos utilizando una sola clave o un rango limitado de claves. Para consultar otros valores, los usuarios a menudo deben construir y mantener sus propios índices, ya que el soporte para índices secundarios es limitado y con advertencias. La actualización de datos en estos sistemas puede requerir múltiples etapas: primero se encuentra el registro, luego se actualiza, y finalmente se actualiza el índice, lo que puede implicar la reescritura completa del registro.
La principal diferencia entre las bases de datos no tabulares radica en la capacidad de consultar datos de manera eficiente. Las bases de datos documentales ofrecen la funcionalidad de consulta más completa, lo que las hace ideales para una amplia variedad de aplicaciones operativas y de análisis en tiempo real. En cambio, las bases de datos de clave-valor y de columnas anchas proporcionan un acceso rápido a los datos por clave primaria, pero con una funcionalidad de consulta muy limitada, lo que puede generar costos de desarrollo adicionales y la necesidad de implementar soluciones a nivel de aplicación para patrones de consulta más complejos.

## Consistencia y Modelo de Transaccional

En los sistemas no tabulares, se suelen mantener varias copias de los datos para garantizar disponibilidad y escalabilidad, y se imponen diferentes niveles de consistencia entre estas copias. Pero a grandes rasgos las bases de datos no relacionales pueden ser categorizadas como 

- **Fuertemente consistentes**.
- **Eventualmente consistentes**.

En un sistema fuertemente consistente, las escrituras realizadas por la aplicación son visibles de inmediato en las consultas posteriores. En contraste, en un sistema eventualmente consistente, las escrituras no son inmediatamente visibles, dependiendo de la réplica de datos que atienda la consulta, aunque eventualmente se sincronizarán los datos y todas las réplicas estarán iguales. Esto hace que muchas veces los desarrolladores se vean obligados a implementar lógica adicional en sus aplicaciones para manejar posibles datos obsoletos o eliminados.
Las bases de datos no tabulares ofrecen garantías de atomicidad a nivel de registro individual, lo que permite reunir datos relacionados. Esta capacidad de operaciones atómicas de registro único satisface las necesidades de integridad de datos en la mayoría de las aplicaciones. Sin embargo, para cargas de trabajo que requieren transacciones ACID en varios registros, algunas bases de datos como MongoDB han agregado soporte para transacciones ACID multidocumento, lo que facilita a los desarrolladores abordar una gama completa de casos de uso. Aun así los principios ACID no son soportados por todos las bases de datos no tabulares.
Los sistemas pueden ser consistentemente fuertes o eventualmente consistentes, dependiendo de los requisitos de la aplicación. Por ejemplo, MongoDB permite ajustar la consistencia en el nivel de consulta, ofreciendo opciones para realizar lecturas contra copias secundarias que pueden no estar completamente sincronizadas. 

>[!tldr] Sincronización e Inconvenientes de los Sistemas Eventualmente Consistentes
>En sistemas eventualmente consistentes, hay un período en el que las copias de los datos no están sincronizadas, lo que puede ser aceptable para aplicaciones de solo lectura o almacenes de datos que no cambian con frecuencia, como archivos históricos. Sin embargo, las actualizaciones y eliminaciones en estos sistemas pueden implicar complejidades adicionales, como la resolución de conflictos entre escrituras en diferentes nodos. Los sistemas eventualmente consistentes suelen ser preferidos para inserciones, pero las actualizaciones y eliminaciones pueden presentar compensaciones que complican la aplicación.

La mayoría de los equipos de desarrollo esperan sistemas muy consistentes, y la elección del modelo de consistencia implica diferentes compensaciones en términos de consistencia y disponibilidad, debido a que a mayor sea el grado de consistencia menor será la disponibilidad de los datos. Los sistemas eventualmente consistentes pueden ofrecer ventajas en inserciones a costa de lecturas, actualizaciones y eliminaciones más complejas. Aunque la atomicidad de registro único es suficiente para muchas aplicaciones, no lo es para todas. MongoDB, por ejemplo, proporciona garantías ACID multidocumento, facilitando el abordaje de una amplia gama de casos de uso con una única plataforma de datos.
