Las metas de la normalización es decidir si un esquema de relación $R$ esta en buena forma. En caso de que esto no sea así se divide el esquema en sub-esquemas de la forma $\{R_1, R_2, ... , R_n\}$ tal que, cada sub-esquema de la relación $R$ este en buena forma y la descomposición sea de join sin perdidas. Cabe aclarar que para que la descomposición sea considerada valida se debe verificar que $R_1 \cup R_2 \cup R_n = R$.

>[!tldr] Propiedad del Join Sin Perdidas
>Una descomposición de $R$ en $R_1$ y $R_2$ es Join sin perdidas si al menos una de las siguientes dependencias se encuentra en $F^+$:
>
>- $R_1 \cap R_2 = R_1$
>- $R_1 \cap R_2 = R_2$
>
>Es decir, $R_1 \cap R_2$ es clave de $R_1$ o es clave de $R_2$.

Al realizar la descomposición de $R$ con un conjunto de dependencias funcionales $F$ en $R_1, R_2, ... , R_n$ se pretende:

1. Una descomposición de Join sin perdidas.
2. No redundancia. El esquema $R_i$ preferentemente debe estar en forma normal de Boyce-Codd o Tercera forma normal.
3. Preservar dependencias funcionales. Sea $F_i$ el conjunto de dependencias funcionales de $F^+$ que incluye solo atributos de $R_i$.  Una descomposición de preserve las dependencias funcionales es $(F_1 \cup F_2 \cup \cdots \cup F_n)^+ = F^+$. Otra forma de realizar la verificación de las violaciones de las dependencias funcionales es calcular joins para evaluar si sigue cumpliendo las condiciones antes mencionadas.

>[!tldr] Preservación de Dependencias
>Para ver si la descomposición de un esquema a preservado las dependencias funcionales de este mismo se puede realizar un testeo, aplicando el siguiente algoritmo:
>
>![[preservar-dependencias.png]]
>
>Este testeo se aplica sobre todas las dependencias funcionales de $F$ para chequear si una descomposición preserva dependencias o no.
>Este procedimiento toma un tiempo polinómico para determinar si se violaron o no las dependencias funcionales, mientras que el anterior método mencionado requiere un tiempo exponencial.

### Primera Forma Normal

Un dominio es atómico si se considera que los elementos del dominio son unidades indivisibles, como número o caracteres. Alguno de los ejemplos más comunes de dominios no atómicos son:

- Conjuntos: Teléfonos de un empleado, titulares de cuentas, cuentas de un cliente, etc.
- Atributos compuestos.
- Números de identificación de la forma: VNT011 que pueden ser descompuestos en dos partes, una numérica y otra alfanumérica.

Se dice que el esquema de una relación $R$ está en la primera forma normal si los dominios de todos los atributos de $R$ son atómicos.

### Forma Normal de Boyce-Codd

Un esquema $R$ se encuentra en la forma normal de Boyce-Codd con respecto a un conjunto $F$ de dependencias funcionales, si para toda las dependencias funcionales en $F^+$ de la forma $X \rightarrow Y$, donde $X \subseteq R$ y $Y \subseteq R$, se cumple al menos uno de los siguientes casos:

1. $X \rightarrow Y$ es trivial.
2. $X$ es una super clave para $R$.

Para verificar si una dependencia funcional no trivial $X \rightarrow Y$ causa alguna violación dela forma normal de Boyce-Codd, primero se debe calcular $X^+$ y asegurarse que estén incluidos todos los atributos en $R$, esto nos asegura que $X$ es una super clave de $R$.
Este test se puede simplificar, ya que solo basta con chequear aquellas dependencias funcionales de $F$ para las cuales surge una violación de la forma normal,  en caso de que ninguna de las dependencias funcionales cause una violación a la forma normal de Boyce-Codd, entonces ninguna dependencia funcional en $F^+$ causará una violación a esta forma normal.
No obstante, usar solo el conjunto $F$ es incorrecto cuando se testea una relación en una descomposición de $R$. Por ejemplo dado $R(A, B, C, D)$ con $F = \{ X \rightarrow Y, B \rightarrow C\}$, se descompone $R$ en $R_1(A, B)$ y $R_2(A, C, D)$, en este caso ninguna de las dependencias funcionales de $F$ causa una violación a las dependencias y los esquemas parecerías conservar al forma normal de Bayce-Codd, pero si tomamos $F^+$ veremos que se puede inferir $A \rightarrow C$, por lo que $R_2$ violaría las la forma normal de Bayce-Codd y tendría que ser dividida.

>[!tldr] Determinación de Claves Candidatas
>El método para encontrar todas las claves candidatas de una relación, es mediante el cumplimiento de las siguientes condiciones.
>
>- Siempre seran claves candidatas si:
>	- Solo aparece en el lado izquierdo de las dependencias funcionales.
>	- Solo atributos que aparecen en los dominios mínimos.
>	- Atributos que no aparecen en ninguna dependencia funcional.
>- Nunca seran claves candidatas si:
>	- El atributo solo aparecen del lado derecho de las dependencias funcionales.
>
>Todos aquellos atributos que no encajen en nunguna de estas áreas, puede que tal vez sean claves candidatas

