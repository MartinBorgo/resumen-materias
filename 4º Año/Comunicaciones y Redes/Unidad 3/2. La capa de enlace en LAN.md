### Uso compartido de los medios de telecomunicaciones

![[medios_de_telecomunicaciones.png]]

### Topologías LAN

![[topologias_lan.png]]

### Estándar IEEE

- El IEEE (Instituto de Ingenieros Eléctricos y Electrónicos) emite estándares sobre redes de área local (LAN) y redes de área metropolitana (MAN).
- Estándares para niveles 1 y 2 del modelo OSI. (Capa de enlace y Capa física).
- Incorporó estándar para tecnologías de redes de área personal (PAN): Bluetooth

### Especificaciones 802.x del IEEE

![[especificaciones_ieee_802.png]]

### Normalización en LAN

El nivel de enlace fue dividido en 2 subniveles:
	MAC: control de acceso al medio (Medium Access Control) 
	LLC: control de enlace lógico (Logical Link Control)

![[normalizacion_lan.png]]

### Funciones básicas de LLC y MAC

LLC (control enlace lógico):
	iniciar el intercambio de señales de control.
	organizar el flujo de datos.
	interpretar comandos recibidos y generar repuesta.
	acciones sobre control y recuperación de errores.

MAC (control acceso al medio):
	armado y desarmado de trama. 
	controlar errores.
	adquisición derecho al uso del medio.

### Métodos de acceso controlado

Las estaciones no pueden transmitir si no se las habilita para ello por turno:
	Centralizado:
		Polling : estación maestra (primaria) invita a las estaciones esclavas (secundarias) su mensaje.
		Selecting: mecanismo usado cuando la primaria debe enviar mensajes a una secundaria.
	Distribuido:
		Un elemento testigo (token) circula entre las estaciones y la que lo tiene está habilitada para transmitir. Por ej. Token Ring

### Métodos de acceso aleatorio - Contienda

Cada estación puede transmitir cuando tiene datos para hacerlo o cuando lo determina localmente. Si dos de ellas inician la transmisión simultáneamente, se produce una colisión.

Procedimientos para resolver la situación:
	Sin escucha: las estaciones no se dan cuenta de la colisión y procedimientos de nivel superior obligan a transmitir los datos. Ej: ALOHA puro
	Con escucha: las estaciones detectan la colisión y reintentan transmitir luego de un tiempo variable para cada una. Ej.: CSMA/CD

### ALOHA

- Los usuarios transmiten cuando tienen datos para hacerlo a través de un sistema de radio.
- Alta probabilidad de colisiones entre tramas, quedando invalidadas.
- Si el emisor no recibe la confirmación repite el envío al cabo de un cierto tiempo.
 
![[aloha.png]]

### ALOHA Ranurado

- Sabiendo el tamaño de la trama, el tiempo se divide en slots (ranuras) igual al tiempo que se necesita para transmitir esa trama.
- Como hay sincronización, los nodos comienzan a transmitir tramas solo al inicio del slot.
- Si hay colisión de tramas, todos la detectan antes de que termine el slot.
- Aleatoriamente se elige un slot siguiente para transmitir, hasta poder hacerlo sin colisión.

![[aloha_ranurado.png]]

### Carrier sense multiple access / Collision Detection 

CSMA (Acceso Múltiple con detección de portadora):
- La terminal que tiene datos para transmitir detecta primero si hay otra transmitiendo (sondea la portadora). Si otro nodo está transmitiendo esperará un tiempo aleatorio y si no transmite.
- Si hay colisión no recibe confirmación (ACK) del receptor.

CSMA/CD (CSMA con detección de colisiones):
- Similar al caso anterior en los primeros pasos, salvo que detecta si hay colisión durante el proceso de transmisión.
- No recibe confirmación del receptor ya que supone la correcta recepción si no hay colisión.

### CSMA

1.- Detección de la señal portadora:
	A trata de transmitir a B, pero queda suspendida porque el medio de transmisión está ocupado.
	
	 ![[deteccion_señal_csma.png]]

2.- Transmisión de la trama:
	Cuando detecta que el medio de transmisión está libre, A transmite una trama a B.
	
	![[transmicion_csma.png]]

3.- Recepción de la trama ACK:
	B chequea la FCS (Frame Check Sequence). Si la trama es válida, B devuelve una trama ACK a A.
	
	![[recepcion_ack.png]]

4.-Transmisión simultánea:
	Antes que la señal portadora de A llegue a B, la de D es enviada al medio de transmisión.
	
	![[transmision_simultanea_csma.png]]

5.- Colisión:
	La trama de A colisiona con la de D sobre el medio de transmisión. B chequea la FCS del paquete recibido; como esta es incorrecta, B no devuelve una trama ACK.
	
	![[colision_csma.png]]

6.-Retransmisión de la trama:
	Como la trama ACK no es devuelta, A retransmite la trama después de un tiempo arbitrario.
	
	![[retransmision_csma.png]]

### CSMA/CD (Detección de Colisiones)

1.- Transmisión de trama:
	- Cuando el medio está inactivo, A transmite una trama a B. 
	- Luego de la transmisión, A continúa verificando si hay una colisión sobre el medio de transmisión. 
	- Después de transmitir la trama sin detectar colisión, A asume que la transmisión ha sido completada con éxito, y no es necesario el ACK.

	![[transmision_csma_cd.png]]

2.- Colisión de trama: 
	Mientras transmite una trama, A monitorea el medio de transmisión. Cuando una colisión es detectada porque B inició la transmisión simultáneamente, A y B detienen la transmisión.

3.- Retransmisión de la trama: 
	- Después de un tiempo arbitrario de demora, A retransmite la trama. 
	- Como B hace lo mismo la posibilidad de nueva colisión es mínima.

### Token ring

- Usa una trama (token o testigo) que circula por el anillo. Un bit de la trama indica si está libre u ocupado.
- Si una estación desea transmitir, espera que le llegue el token, activa su bit de control, e inserta a continuación los datos a enviar, la dirección de destino y la propia.
- La trama circula por el anillo hasta llegar a la estación destinataria, la cual copia su contenido y la retransmite sobre el anillo.
- Al arribar la trama a la estación emisora, esta la retira de la circulación y genera un nuevo token.
- Ej.: A envía una trama a C y luego C envía tramas a D y A.
- ![[token_ring.png]]

### ETHERNET

Ethernet es un producto comercial “de facto” (Xerox-DEC-Intel) Se compone de hardware y software que trabajan de manera coordinada para envío de datos entre computadoras.
Elementos básicos:
	Trama, Protocolo de Control de Acceso al Medio (CSMA/CD), Componentes de señalización, Medios físicos (Coaxil, Par Trenzado, Fibra Óptica)

![[ethernet.png]]

Tipos de cableado para redes ethernet:
	![[ethernet_cable.png]]
	

### Direcciones ETHERNET - Mac address - Direccion fisica

- Las redes Ethernet definen un esquema de direccionamiento de 48 bits.
- Cada maquina conectada a una red Ethernet tiene un numero único de 48 bits. Ejemplo: 8:0:39:0:2f:26.
- Los fabricantes de hardware Ethernet solicitan las direcciones al IEEE, quien las administra y se asegura que sean únicas.
- También llamada la dirección física de una maquina conectada en red.
- La dirección se fija en la tarjeta de red o NIC (Network Interface Card).
- El software que acompaña a la tarjeta de red se conoce como Driver.

- #### Direcciones de ethernet:
		![[direcciones_ethernet.png]]

- #### Formato de trama:
	![[trama_ethernet.png]]
	- Trama mínima: 64 bytes (46+18) 
	- Trama máxima: 1500 bytes (x)

### Protocolo de subcapa MAC

- La trama máxima del estándar 802.3 es de 1492 bytes. -
- La trama máxima Ethernet de 1500 bytes. -
- Estos valores se conocen con el nombre de MTU (Maximun Transfer Unit). Es la mayor cantidad de datos que se pueden transferir por unidad a través de una determinada red física. Es determinado por el hardware de red.

### Retardo de propagación

Relacionado con el tamaño de la trama. 
Es el tiempo máximo de trama para propagarse al destino y volver. 
Transmitiendo el mínimo de 64 bytes, se asegura que todas las estaciones detecten las colisiones.  Entonces, las tramas con menos bytes se rellenan a 64 bytes. 
Pasando 64 bytes a tiempo nos da 51.2 µseg

![[retardo_propagacion.png]]

Entonces:
- A medida que aumenta la velocidad de la red, la longitud mínima de la trama debe ser mayor o, en proporción, la longitud máxima del cable debe disminuir. Ej.:
	Para una LAN de 2500 mts operando a 1 Gbps, el tamaño mínimo de trama sería 6400 bytes.

### Algoritmo de retroceso exponencial binario

- Tras una colisión, el tiempo se divide en ranuras discretas de longitud igual al tiempo de propagación (51.2 µ). 
- Tras la primera colisión, cada estación espera 0 o 1 tiempo de ranura para volver a intentar. 
- Tras la segunda colisión, cada una toma 0,1,2 o 3 tiempos al azar. 
- En general, tras i colisiones se toma un numero aleatorio entre 0 y 2^i 
- Después de 10 colisiones, el intervalo aleatorio se congela en 1023 ranuras. 
- Tras 16 colisiones, el controlador informa del fracaso a la maquina.

### Comparación de características de ethernet y token ring

Ethernet:
- Alto rendimiento con bajas condiciones de carga.  
- Aumento del tiempo de retardo de transferencia de tramas frente a elevados niveles de carga.

Token Ring:
- Posibilidad de determinación de los tiempos de retardo en la etapa de planeamiento.  
- Bajo rendimiento cuando la carga es escasa debido a la circulación del token y a los procesos de mantenimiento.

![[comparacion.png]]