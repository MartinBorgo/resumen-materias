 La principal razón de tener hilos es que en muchas aplicaciones se desarrollan varias actividades a la vez. Algunas de ésas se pueden bloquear de vez en cuando. Al descomponer una aplicación en varios hilos secuenciales que se ejecutan en cuasiparalelo, el modelo de programación se simplifica.
 Ya hemos visto este argumento antes: es precisamente la justificación de tener procesos. En vez de pensar en interrupciones, temporizadores y conmutaciones de contexto, podemos pensar en procesos paralelos. Sólo que ahora con los hilos agregamos un nuevo elemento: la habilidad de las entidades en paralelo de compartir un espacio de direcciones y todos sus datos entre ellas. Esta habilidad es esencial para ciertas aplicaciones, razón por la cual no funcionará el tener varios procesos.
 Un segundo argumento para tener hilos es que, como son más ligeros que los procesos, son más fáciles de crear y destruir.
 Una tercera razón de tener hilos es también un argumento relacionado con el rendimiento. Los hilos no producen un aumento en el rendimiento cuando todos ellos están ligados a la CPU, pero cuando hay una cantidad considerable de cálculos y operaciones de E/S, al tener hilos estas actividades se pueden traslapar, con lo cual se agiliza la velocidad de la aplicación. Por último, los hilos son útiles en los sistemas con varias CPUs, en donde es posible el verdadero paralelismo.

>[!example] Ejemplo de Uso de Hilos
>Suponga que tenemos un procesador de palabras, que funciona con dos hilos. Un hilo interactúa con el usuario y el otro se encarga de volver a dar formato en segundo plano. Tan pronto como se elimina el enunciado de la página 1, el hilo interactivo indica al hilo encargado de volver a dar formato que aplique de nuevo formato a todo el libro. Mientras tanto, el hilo interactivo sigue esperando las acciones del teclado y del ratón y responde a comandos simples como desplazarse por la página 1, mientras el otro hilo está realizando cálculos intensivos en segundo plano. Con algo de suerte, el proceso de volver a dar formato se completará antes de que el usuario pida ver la página 600, para que pueda mostrarse al instante.
>Debemos aclarar que aquí no funcionaría tener dos procesos separados, ya que los dos hilos necesitan operar en el documento. Al tener dos hilos en vez de dos procesos, comparten una memoria común y por ende todos tienen acceso al documento que se está editando.

Supongamos que tenemos una estructura básica de aplicación donde tenemos que aceptar entradas, procesarlas y almacenar su salida, los hilos ofrecen una solución. El proceso podría estructurarse con un hilo de entrada, un hilo de procesamiento y un hilo de salida. El hilo de entrada lee datos y los coloca en un búfer de entrada. El hilo de procesamiento toma datos del búfer de entrada, los procesa y coloca los resultados en un búfer de salida. El búfer de salida escribe estos resultados de vuelta en el disco. De esta forma, todas las 
operaciones de entrada, salida y procesamiento pueden estar ocurriendo al mismo tiempo.

### El Modelo Clásico de Hilos

Aunque un hilo se debe ejecutar en cierto proceso, el hilo y su proceso son conceptos distintos y pueden tratarse por separado. Los procesos se utilizan para agrupar los recursos; son las entidades planificadas para su ejecución en la CPU.
Lo que agregan los hilos al modelo de procesos es permitir que se lleven a cabo varias ejecuciones en el mismo entorno del proceso, que son en gran parte independientes unas de las otras. En el primer caso, los hilos comparten un espacio de direcciones y otros recursos; en el segundo, los procesos comparten la memoria física, los discos, las impresoras y otros recursos.
En la figura (a) podemos ver tres procesos tradicionales. Cada proceso tiene su propio espacio de direcciones y un solo hilo de control. Por el contrario, en la figura (b) vemos un solo proceso con tres hilos de control. Aunque en ambos casos tenemos tres hilos, en la figura (a) cada uno de ellos opera en un espacio de direcciones distinto, mientras que en la figura (b) los tres comparten el mismo espacio de direcciones.

<span class="centerImg"> ![[SO-hilos-procesos.png]] </span>

>[!important] Hilos y Seguridad
>Los distintos hilos en un proceso no son tan independientes como los procesos. Todos los hilos tienen el mismo espacio de direcciones, lo cual significa que también comparten las mismas variables globales. Como cada hilo puede acceder a cada dirección de memoria dentro del espacio de direcciones del proceso, un hilo puede leer, escribir o incluso borrar la pila de otro hilo. No hay protección entre los hilos debido a que:
>
>1. Es imposible
>2. No debe ser necesario. 
>
>En la siguiente imagen se mostrará un cuadro con los elementos del proceso, los cuales son compartidos por todos los hilos de dicho proceso, y en la segunda columna algunos de los elementos propios de cada hilo.
>
><span class="centerImg"> ![[SO-pripiedade-hilos.png]] </span>
> 
> Lo que estamos tratando de lograr con el concepto de los hilos es la habilidad de que varios hilos de ejecución compartan un conjunto de recursos, de manera que puedan trabajar en conjunto para realizar cierta tarea.

